(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},47:function(e,t,a){},62:function(e,t,a){e.exports=a(86)},67:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(44),l=a.n(r),c=(a(67),a(2)),i=a(7),s=a(5),u=(a(47),a(15)),m=a(98),p=a(45),d=a.n(p),h=a(8),f=a.n(h),g=function(){var e=Object(n.useContext)(Z),t=e.state,a=e.dispatch,r=Object(i.f)(),l=Object(n.useState)([]),p=Object(c.a)(l,2),h=p[0],g=p[1];Object(n.useEffect)((function(){t&&fetch("https://instabackend22.herokuapp.com/getallrequest",{method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){"User not logged In error2"==e.error?(f.a.toast({html:"you will logout soon due to token expiries",classes:"#62229 red darken-2"}),localStorage.clear(),a({type:"LOGOUT"}),r("/login"),window.location.reload(!1)):g(e.posts[0].Requested)})).catch((function(e){console.log(e)}))}),[t]);return o.a.createElement("nav",null,o.a.createElement("div",{className:"navbar-top navbar-custom",style:{position:"fixed",width:"100%",zIndex:"999",height:"7%"}},o.a.createElement(s.b,{to:t?"/home":"/login",className:"brand-logo center",style:{textDecoration:"none",display:"inline"}}," ",o.a.createElement("li",{style:{textDecoration:"none",listStyle:"none"}}," ",o.a.createElement("span",{className:"instax"}," socialsoup "),"  ",o.a.createElement("span",{style:{fontSize:"20px",color:"darkred"}},o.a.createElement(u.c,null))," ")),o.a.createElement("ul",{className:"someone"},function(){if(t)return[o.a.createElement("li",{key:"121",style:{float:"left"}},o.a.createElement(s.b,{to:"/Notifications"}," ",h?h.length>0?o.a.createElement(m.a,{badgeContent:h.length,color:"primary"},o.a.createElement(d.a,{color:"success"})):o.a.createElement(m.a,{badgeContent:0,color:"primary"},o.a.createElement(d.a,{color:"action"})):"","  "))]}())))},b=a(6),E=(a(42),a(21)),y=a(9),x=a(20),k=a(13),v=a(25),j=a.n(v);var S=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),m=Object(c.a)(l,2),p=(m[0],m[1],Object(n.useContext)(Z)),d=p.state,h=p.dispatch,f=Object(i.f)();Object(n.useEffect)((function(){a&&fetch("https://instabackend22.herokuapp.com/posts",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log("data.error --\x3e     "+e.error),"User not logged In error2"==e.error?(localStorage.clear(),h({type:"LOGOUT"}),f("/login"),window.location.reload(!1)):r(e.posts)})).catch((function(e){console.log(e)}))}),[]);var g=function(e,t){fetch(t,{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id==e._id?e:t}));r(t)})).catch((function(e){console.log(e)}))},v=function(e){fetch("https://instabackend22.herokuapp.com/save",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e,my:d._id})}).then((function(e){return e.json()}),console.log("crossed")).then((function(e){e.error?console.log(e.error):(localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},d),{},{savedPost:e}))),h({type:"UPDATESAVEDPOST",payload:e}))}))},S=function(e){fetch("https://instabackend22.herokuapp.com/unsave",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e,my:d._id})}).then((function(e){return e.json()}),console.log("crossed")).then((function(e){e.error?console.log(e.error):(localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},d),{},{savedPost:e}))),h({type:"UPDATESAVEDPOST",payload:e}))}))},w=function(e){fetch("https://instabackend22.herokuapp.com/delete/".concat(e),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){var t=a.filter((function(t){return t._id!=e.result._id}));r(t)})).catch((function(e){console.log(e)}))},N=function(e,t){navigator.share?navigator.share({title:t,url:"https://instaclone022.herokuapp.com/p/".concat(e)}).then((function(){console.log("Thanks for sharing!")})).catch((function(e){console.log("Error while using Web share API:"),console.log(e)})):navigator.clipboard.writeText("https://instaclone022.herokuapp.com/p/".concat(e))};return o.a.createElement("div",{className:"home-container"},a.length>0?a.map((function(e){return e?e.author._id.includes(d._id)?o.a.createElement("div",{className:"card1 home-card",key:e._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:e?e.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:e.author._id!==d._id?"/profile/"+e.author._id:"/profile",style:{textDecoration:"none"}},e.author.fullName,"  ")," ",o.a.createElement(s.b,{to:e._id?"/p/"+e._id:"",style:{textDecoration:"none",marginBottom:"10px"}},o.a.createElement(x.a,null)," ")),e.author._id==d._id&&o.a.createElement("i",{onClick:function(){return w(e._id)},className:"material-icons",style:{color:"darkred",float:"right",cursor:"pointer",width:"35px"}}," delete_forever ")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return e.likes.includes(d._id)?g(e._id,"https://instabackend22.herokuapp.com/unlike"):g(e._id,"https://instabackend22.herokuapp.com/like")},src:e.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},e.likes.includes(d._id)?o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,{className:"heart is-active"})):o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:e._id?"/c/"+e._id:"",style:{textDecoration:"none",color:"royalblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){N(e._id,e.title)}})," "))),o.a.createElement("div",null,d.savedPost?d.savedPost.includes(e._id)?o.a.createElement("i",{onClick:function(){return S(e._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return v(e._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",e.title," "),o.a.createElement("p",{className:"post-body-text"}," ",e.body," "),o.a.createElement("h6",{style:{color:"darkblue",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""},"  ",o.a.createElement(j.a,{fromNow:!0},e.createdAt),"    "))):e.author.isPrivate?e.author.followers.includes(d._id)?o.a.createElement("div",{className:"card1 home-card",key:e._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:e?e.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:e.author._id!==d._id?"/profile/"+e.author._id:"/profile",style:{textDecoration:"none"}},e.author.fullName,"  ")," ",o.a.createElement(s.b,{to:e._id?"/p/"+e._id:"",style:{textDecoration:"none",marginBottom:"10px"}},o.a.createElement(x.a,null)," ")),e.author._id==d._id&&o.a.createElement("i",{onClick:function(){return w(e._id)},className:"material-icons",style:{color:"darkred",float:"right",cursor:"pointer",width:"35px"}}," delete_forever ")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return e.likes.includes(d._id)?g(e._id,"https://instabackend22.herokuapp.com/unlike"):g(e._id,"https://instabackend22.herokuapp.com/like")},src:e.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},e.likes.includes(d._id)?o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,null)):o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:e._id?"/c/"+e._id:"",style:{textDecoration:"none",color:"royalblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){N(e._id,e.title)}})," "))),o.a.createElement("div",null,d.savedPost?d.savedPost.includes(e._id)?o.a.createElement("i",{onClick:function(){return S(e._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return v(e._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",e.title," "),o.a.createElement("p",{className:"post-body-text"}," ",e.body," "),o.a.createElement("h6",{style:{color:"darkblue",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""},"  ",o.a.createElement(j.a,{fromNow:!0},e.createdAt),"   "))):"":o.a.createElement("div",{className:"card1 home-card",key:e._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:e?e.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:e.author._id!==d._id?"/profile/"+e.author._id:"/profile",style:{textDecoration:"none"}},e.author.fullName,"  ")," ",o.a.createElement(s.b,{to:e._id?"/p/"+e._id:"",style:{textDecoration:"none",marginBottom:"10px"}},o.a.createElement(x.a,null)," ")),e.author._id==d._id&&o.a.createElement("i",{onClick:function(){return w(e._id)},className:"material-icons",style:{color:"red",float:"right",cursor:"pointer",width:"35px"}}," delete_forever ")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return e.likes.includes(d._id)?g(e._id,"https://instabackend22.herokuapp.com/unlike"):g(e._id,"https://instabackend22.herokuapp.com/like")},src:e.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},e.likes.includes(d._id)?o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,null)):o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:e._id?"/c/"+e._id:"",style:{textDecoration:"none",color:"royalblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){N(e._id,e.title)}})," "))),o.a.createElement("div",null,d.savedPost?d.savedPost.includes(e._id)?o.a.createElement("i",{onClick:function(){return S(e._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return v(e._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",e.title," "),o.a.createElement("p",{className:"post-body-text"}," ",e.body," "),o.a.createElement("h6",{style:{color:"darkblue",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""},"  ",o.a.createElement(j.a,{fromNow:!0},e.createdAt),"   "))):""})):o.a.createElement("div",{id:"center",style:{marginTop:"10px"}},o.a.createElement(k.a,{heigth:"200",width:"200",color:"royalblue",ariaLabel:"loading",value:"uploading !"})))},w=(a(33),a(43),a(52));var N=function(){var e=Object(n.useContext)(Z),t=(e.state,e.dispatch),a=Object(i.f)(),r=Object(n.useState)(""),l=Object(c.a)(r,2),u=l[0],m=l[1],p=Object(n.useState)(""),d=Object(c.a)(p,2),h=d[0],g=d[1],b=Object(n.useState)("show"),E=Object(c.a)(b,2),y=E[0],x=E[1],v=Object(n.useState)(!1),j=Object(c.a)(v,2),S=j[0],N=j[1];return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"card login-card input-field"},o.a.createElement("h2",null,"Social soup ",o.a.createElement(w.a,null)),o.a.createElement("input",{type:"text",placeholder:"Email Or UserName",value:u,onChange:function(e){return m(e.target.value)},className:"ip"}),o.a.createElement("input",{type:"password",placeholder:"shh \ud83e\udd2b!!",value:h,onChange:function(e){return g(e.target.value)},className:"ip"}),o.a.createElement("div",{className:"".concat(y)},o.a.createElement("button",{onClick:function(){return function(){if(N(!0),x("hide"),u.includes("@")&&!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(u))return x("show"),void f.a.toast({html:"enter valid email",classes:"#62229 red darken-2"});f.a.toast({html:"please wait :) ",classes:"#c62828 blue darken-3",id:"toast-container"}),fetch("https://instabackend22.herokuapp.com/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailorpass:u,password:h})}).then((function(e){return e.json()})).then((function(e){e.error?(N(!1),x("show"),f.a.toast({html:e.error,classes:"#62229 red darken-2"})):(N(!1),x("show"),localStorage.setItem("token",e.token),localStorage.setItem("userinfo",JSON.stringify(e.userinfo)),t({type:"USER",payload:e.userinfo}),f.a.toast({html:"Login Successfull",classes:"#62229 green darken-2",id:"toast-container"}),a("/home"))})).catch((function(e){console.log(e),N(!1),x("show"),f.a.toast({html:"Something went wrong",classes:"#62229 yellow darken-2",id:"toast-container"})}))}()},className:"btn waves-effect waves-loght btn-large #64b5f6 blue darken-4",type:"submit"},"Login")),o.a.createElement("h6",null,o.a.createElement(s.b,{to:"/Signup"},"Don't have an account? Sign up")),o.a.createElement("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(s.b,{to:"/reset-password"},"Forgot password  "))),o.a.createElement("div",{id:"center"},S?o.a.createElement(k.b,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}):""))};var O=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)(""),m=Object(c.a)(u,2),p=m[0],d=m[1],h=Object(n.useState)(""),g=Object(c.a)(h,2),b=g[0],E=g[1],y=Object(n.useState)(""),x=Object(c.a)(y,2),v=x[0],j=x[1],S=Object(n.useState)(""),w=Object(c.a)(S,2),N=w[0],O=w[1],_=Object(n.useState)(""),C=Object(c.a)(_,2),z=C[0],T=C[1],P=Object(n.useState)(void 0),I=Object(c.a)(P,2),R=I[0],A=I[1],D=Object(n.useState)("show"),B=Object(c.a)(D,2),U=B[0],J=B[1],W=Object(n.useState)(!1),L=Object(c.a)(W,2),q=L[0],F=L[1];Object(n.useEffect)((function(){R&&M()}),[R]);var M=function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(p)?/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/.test(b)?(f.a.toast({html:"please wait :) ",classes:"#c62828 blue darken-3 toast-container"}),void fetch("https://instabackend22.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:r,email:p,password:v,profilePicUrl:R,username:b})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?(J("show"),F(!1),f.a.toast({html:t.error,classes:"#c62828 red darken-3"})):(F(!1),J("show"),f.a.toast({html:t.result,classes:"#388e3c green darken-2"}),e("/login"))})).catch((function(e){console.log(e)}))):(J("show"),F(!1),void f.a.toast({html:"Enter valid UserName!",classes:"#c62828 red darken-3"})):(J("show"),F(!1),void f.a.toast({html:"Enter valid email!",classes:"#c62828 red darken-3"}))},V=function(){J("hide"),F(!0),N?function(){var e=new FormData;e.append("file",N),e.append("upload_preset","instaclone-app"),e.append("cloud_name","instaclone2022"),fetch("https://api.cloudinary.com/v1_1/instaclone2022/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){A(e.url)})).catch((function(e){return console.log(e)}))}():M()};return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"card login-card input-field"},o.a.createElement("h2",null,"socail soup"),o.a.createElement("input",{type:"text",placeholder:"FullName",value:r,onChange:function(e){return l(e.target.value)}}),o.a.createElement("input",{type:"email",placeholder:"Email",value:p,onChange:function(e){return d(e.target.value)}}),o.a.createElement("input",{type:"text",placeholder:"Username",value:b,style:{color:z,background:"none"},onChange:function(e){return t=e.target.value,void(/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/.test(t)?(T("green"),E(t)):(T("red"),E(t)));var t}}),o.a.createElement("input",{type:"password",placeholder:"password",value:v,onChange:function(e){return j(e.target.value)}}),o.a.createElement("div",{className:"file-field input-field",style:{display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},o.a.createElement("li",{style:{width:"200px",borderRadius:"10px"},class:"btn1 profile-edit-btn btn waves-effect waves-light #0d47a1 blue darken-4 signup"}," ",o.a.createElement("span",{style:{color:"white",fontWeight:"700"},className:"pl2"},"  profile pic"),o.a.createElement("input",{type:"file",onChange:function(e){return O(e.target.files[0])},accept:"image/png, image/gif, image/jpeg"})),o.a.createElement("button",{onClick:function(){return V()},className:"btn waves-effect waves-loght btn-medium #64b5f6 darken-4 cusbtn signup ".concat(U),type:"submit",style:{fontWeight:"bolder",width:"250px"}},"Create Account")),o.a.createElement("h6",null,o.a.createElement(s.b,{to:"/login"},"Have an account? Log in "))),o.a.createElement("div",{id:"center"},q?o.a.createElement(k.b,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}):""))},_=(a(77),a(48),a(34)),C=a(23);var z=function(){var e=Object(n.useContext)(Z),t=e.state,a=e.dispatch,r=Object(n.useState)([]),l=Object(c.a)(r,2),u=l[0],m=l[1],p=Object(n.useState)([]),d=Object(c.a)(p,2),h=d[0],g=d[1],E=Object(n.useState)(""),y=Object(c.a)(E,2),x=y[0],v=(y[1],Object(n.useState)(!1)),j=Object(c.a)(v,2),S=(j[0],j[1]),w=Object(n.useState)(),N=Object(c.a)(w,2),O=N[0],z=N[1],T=Object(i.f)();return Object(n.useEffect)((function(){t&&fetch("https://instabackend22.herokuapp.com/user/".concat(t._id),{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),z(e)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){if(x){var e=new FormData;e.append("file",x),e.append("upload_preset","instaclone-app"),e.append("cloud_name","instaclone2022"),fetch("https://api.cloudinary.com/v1_1/instaclone2022/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){fetch("https://instabackend22.herokuapp.com/updatepic",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({url:e.url})}).then((function(e){return e.json()})).then((function(e){S(!1),console.log("result--\x3e"+e),localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},t),{},{profilePicUrl:e.profilePicUrl}))),a({type:"UPDATEPIC",payload:e.profilePicUrl})}))})).catch((function(e){console.log(e)}))}}),[x]),Object(n.useEffect)((function(){fetch("https://instabackend22.herokuapp.com/myposts",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){m(e.posts),console.log(e.posts)})).catch((function(e){console.log("error i am printinfn"+e),e&&(f.a.toast({html:"you will logout soon due to token expiries",classes:"#62229 red darken-2"}),localStorage.clear(),a({type:"LOGOUT"}),T("/login"))}))}),[]),Object(n.useEffect)((function(){fetch("https://instabackend22.herokuapp.com/mysavedpost",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){g(e.posts),console.log(e.posts)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",{style:{maxWidth:"550px",margin:"30px auto"}},o.a.createElement("div",{style:{margin:"18px 0px",borderBottom:"2px solid grey"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},o.a.createElement("div",null,o.a.createElement("img",{style:{width:"120px",height:"120px",borderRadius:"80px",marginTop:"10px"},src:t?t.profilePicUrl:"loading",className:"pp"})),o.a.createElement("div",null,o.a.createElement("i",{style:{fontSize:"30px",display:"inline",color:"darkblue",cursor:"pointer",float:"right"},onClick:function(){return T("/setting")}},o.a.createElement(_.b,null)," "),o.a.createElement("h4",null," ",o.a.createElement("span",{style:{fontSize:"20px"}},t?t.fullName:"loading")),o.a.createElement("h5",{className:"username"},t?t.username:"loading"),o.a.createElement("div",{class:"profile-stats"}," ",o.a.createElement("ul",{style:{display:"flex",justifyContent:"space-around"}},o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"600",fontSize:"15px"}},o.a.createElement("span",{class:"profile-stat-count"},u?u.length:""," ")," ",o.a.createElement("span",{style:{fontWeight:"500",fontSize:"15px",borderRight:"1px solid black",padding:"3px"}},"posts ")),o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"600",fontSize:"15px"}},o.a.createElement("span",{class:"profile-stat-count"},O?O.user.followers.length:0)," ",o.a.createElement("span",{style:{fontWeight:"500",fontSize:"15px",borderRight:"1px solid black",padding:"3px"}}," followers  ")," "),o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"600",fontSize:"15px"}},o.a.createElement("span",{class:"profile-stat-count"},O?O.user.following.length:0)," ",o.a.createElement("span",{style:{fontWeight:"500",fontSize:"15px",padding:"3px"}}," following ")," ")))))),o.a.createElement("h6",{className:"center",style:{fontWeight:"900"}},"My Post"),o.a.createElement("div",{className:"Posts",style:{borderBottom:"1px solid black",paddingBottom:"50px"}},u?u.length>0?u.map((function(e){return o.a.createElement("div",{className:"center post-test"},o.a.createElement(s.b,{to:"/p/".concat(e._id)},"      ",o.a.createElement("img",{className:"post",src:e.image,alt:e.title,key:e._id,title:e.likes.length+" likes \u2764\ufe0f "}),"       ")," ")})):o.a.createElement("div",null,o.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"  don't have Any Post ")):o.a.createElement("div",{id:"center"},o.a.createElement(k.b,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}))),o.a.createElement("h6",{className:"center",style:{fontWeight:"900"}},"My saved Post ",o.a.createElement(C.a,null)),o.a.createElement("div",{className:"Posts",style:{borderBottom:"1px solid black",paddingBottom:"50px",marginBottom:"100px"}},h?h.length>0?h.map((function(e){return o.a.createElement("div",{className:"center post-test"},o.a.createElement(s.b,{to:"/p/".concat(e._id)},"      ",o.a.createElement("img",{className:"post",src:e.image,alt:e.title,key:e._id,title:e.likes.length+" likes \u2764\ufe0f "}),"       ")," ")})):o.a.createElement("div",null,o.a.createElement("h5",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"  don't have Any Post ")):o.a.createElement("div",{id:"center"},o.a.createElement(k.b,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}))))};a(78);var T=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(""),h=Object(c.a)(d,2),g=h[0],b=h[1],E=Object(n.useState)(!1),y=Object(c.a)(E,2),x=y[0],v=y[1],j=Object(n.useState)("show"),S=Object(c.a)(j,2),w=(S[0],S[1]);return Object(n.useEffect)((function(){g&&fetch("https://instabackend22.herokuapp.com/createpost",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:r,body:m,image:g})}).then((function(e){return e.json()})).then((function(t){t.error?(v(!1),f.a.toast({html:"one or more fiels are empty",classes:"#c62828 red darken-3"})):(w("show"),v(!1),f.a.toast({html:"Post created successfully!",classes:"#388e3c green darken-2 center"}),e("/home"))})).catch((function(e){console.log(e)}))}),[g]),o.a.createElement("div",{className:"card create-post"},o.a.createElement("input",{value:r,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Post Title",className:"new-font"}),o.a.createElement("input",{value:m,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Content",className:"new-font"}),o.a.createElement("div",{className:"file-field input-field",style:{display:"flex",alignContent:"center",alignItems:"center",justifyItems:"center",justifyContent:"center"}},o.a.createElement("li",{style:{margin:"10px",display:"flex",flexWrap:"wrap",width:"100px",borderRadius:"10px"},class:"btn1 profile-edit-btn btn waves-effect waves-light #0d47a1 blue darken-4"}," ",o.a.createElement("span",{style:{color:"white",fontSize:"14px",marginLeft:"-14px",fontWeight:"700"}},"  upload "),o.a.createElement("input",{type:"file",onChange:function(e){return b(e.target.files[0])},accept:"image/png, image/gif, image/jpeg"})),o.a.createElement("button",{onClick:function(){return function(){if(g){v(!0),w("hide");var e=new FormData;e.append("file",g),e.append("upload_preset","instaclone-app"),e.append("cloud_name","instaclone2022"),fetch("https://api.cloudinary.com/v1_1/instaclone2022/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){b(e.url)})).catch((function(e){return console.log(e)}))}else f.a.toast({html:"Image Missing....",classes:"#388e3c yellow darken-2 toast center"})}()},className:"btn waves-effect waves-loght btn-medium #64b5f6 darken-4 cusbtn",type:"submit",style:{fontSize:"15px",fontWeight:"bolder"}},"Post")),o.a.createElement("div",{id:"center"},x?o.a.createElement(k.b,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}):""))},P=function(e,t){return"USER"===t.type?t.payload:"LOGOUT"===t.type?null:"UPDATE"===t.type?Object(b.a)(Object(b.a)({},e),{},{following:t.payload.following,followers:t.payload.followers}):"UPDATEPIC"==t.type?Object(b.a)(Object(b.a)({},e),{},{profilePicUrl:t.payload}):"UPDATEREQUEST"==t.type?Object(b.a)(Object(b.a)({},e),{},{Requested:t.payload}):"UPDATETRUE"==t.type?Object(b.a)(Object(b.a)({},e),{},{isPrivate:!0}):"UPDATEFALSE"==t.type?Object(b.a)(Object(b.a)({},e),{},{isPrivate:!1}):"UPDATESAVEDPOST"==t.type?Object(b.a)(Object(b.a)({},e),{},{savedPost:t.payload}):e},I=a(22);var R=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(),u=Object(c.a)(l,2),m=(u[0],u[1]),p=Object(n.useContext)(Z),d=p.state,h=p.dispatch,f=Object(i.g)().userId,g=Object(n.useState)(!d||!d.following.includes(f)),E=Object(c.a)(g,2),y=(E[0],E[1]);Object(n.useEffect)((function(){fetch("https://instabackend22.herokuapp.com/user/".concat(f),{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),r(e)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){d&&fetch("https://instabackend22.herokuapp.com/user/".concat(d._id),{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e),m(e)})).catch((function(e){console.log(e)}))}),[]);var x=function(){fetch("https://instabackend22.herokuapp.com/follow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({followId:f})}).then((function(e){return e.json()})).then((function(e){console.log(e),h({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("userinfo",JSON.stringify(e)),r((function(t){return Object(b.a)(Object(b.a)({},t),{},{user:Object(b.a)(Object(b.a)({},t.user),{},{followers:[].concat(Object(I.a)(t.user.followers),[e._id])})})})),y(!1)})).catch((function(e){console.log(e)}))},v=function(){fetch("https://instabackend22.herokuapp.com/unfollow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({unfollowId:f})}).then((function(e){return e.json()})).then((function(e){console.log(e),h({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("userinfo",JSON.stringify(e)),r((function(t){var a=t.user.followers.filter((function(t){return t!=e._id}));return Object(b.a)(Object(b.a)({},t),{},{user:Object(b.a)(Object(b.a)({},t.user),{},{followers:a})})})),y(!0),window.location.reload(!1)})).catch((function(e){console.log(e)}))},j=function(){fetch("https://instabackend22.herokuapp.com/request",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({request:f,my:d._id,Uname:d.username})}).then((function(e){return e.json()})).then((function(e){console.log("request"+JSON.stringify(e)),window.location.reload(!1)})).catch((function(e){console.log(e)})),fetch("https://instabackend22.herokuapp.com/requestid",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({request:f,my:d._id})}).then((function(e){return e.json()})).then((function(e){console.log("requestid"+JSON.stringify(e)),window.location.reload(!1)})).catch((function(e){console.log(e)}))},S=function(){fetch("https://instabackend22.herokuapp.com/removeApproved",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({unfollowId:f})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),v()},w=function(){fetch("https://instabackend22.herokuapp.com/unrequest",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({request:f,my:d._id,Uname:d.username})}).then((function(e){return e.json()})).then((function(e){console.log("unrequest"+JSON.stringify(e)),window.location.reload(!1)})).catch((function(e){console.log(e)})),fetch("https://instabackend22.herokuapp.com/unrequestid",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({request:f,my:d._id})}).then((function(e){return e.json()})).then((function(e){console.log("unrequestid"+JSON.stringify(e)),window.location.reload(!1)})).catch((function(e){console.log(e)}))};return o.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},a?o.a.createElement(o.a.Fragment,null,"  ",o.a.createElement("div",{style:{margin:"20px 0px",borderBottom:"2px solid grey"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},o.a.createElement("div",null,o.a.createElement("img",{style:{width:"120px",height:"120px",borderRadius:"80px",marginTop:"20px"},src:a?a.user.profilePicUrl:""})),o.a.createElement("div",null,o.a.createElement("h4",{style:{fontSize:"20px"}},a?a.user.fullName:""),o.a.createElement("h5",{className:"username"},a?a.user.username:"loading"),o.a.createElement("div",{class:"profile-stats"},o.a.createElement("ul",{style:{display:"flex",justifyContent:"space-between",alignContent:"space-between"}},o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"600",fontSize:"15px"}},o.a.createElement("span",null,a?a.posts.length:""," "),"  ",o.a.createElement("span",{style:{fontWeight:"500",fontSize:"15px",borderRight:"1px solid black",padding:"3px"}}," posts ")),o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"100",fontSize:"15px"}},o.a.createElement("span",null,a?a.user.followers.length:""),"  ",o.a.createElement("span",{style:{fontWeight:"500",fontSize:"15px",borderRight:"1px solid black",padding:"3px"}}," followers ")),o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"100",fontSize:"15px"}}," ",o.a.createElement("span",null,a?a.user.following.length:"")," ",o.a.createElement("span",{style:{fontWeight:"500",fontSize:"15px",borderRight:"1px solid black",padding:"3px"}},"following "))),a?a.user.isPrivate?d.following.includes(f)?o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return S()},className:"btn waves-effect waves-light #0d47a1 blue darken-4"},"unfollow"):a.user.RequestIds.length>0?a.user.RequestIds.includes(d._id)?o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return w()},className:"btn waves-effect waves-light #0d47a1 black darken-4"},"unrequest"):o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return j()},className:"btn waves-effect waves-light #0d47a1 red darken-4"},"request"):a.user.ApprovedIds.includes(d._id)?o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return x()},className:"btn waves-effect waves-light #0d47a1 yellow darken-4"},"follow"):o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return j()},className:"btn waves-effect waves-light #0d47a1 orange darken-4"},"request"):d.following.includes(f)?o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return v()},className:"btn waves-effect waves-light #0d47a1 green darken-4"},"unfollow"):o.a.createElement("button",{style:{margin:"10px"},onClick:function(){return x()},className:"btn waves-effect waves-light #0d47a1 brown darken-4"},"follow"):"")))),o.a.createElement("div",{className:"Posts"},a?a.posts.length>0?a.user.isPrivate?a.user.followers.includes(d._id)?a.posts.map((function(e){return o.a.createElement("div",{className:"center post-test"},o.a.createElement(s.b,{to:"/p/".concat(e._id)},"      ",o.a.createElement("img",{className:"post",src:e.image,alt:e.title,key:e._id,title:e.likes.length+" likes \u2764\ufe0f "}),"       ")," ")})):o.a.createElement("div",null,o.a.createElement("h3",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",fontSize:"20px"}}," Private Post - follow the user to see the content  ")):a.posts.map((function(e){return o.a.createElement("div",{className:"center post-test"},o.a.createElement(s.b,{to:"/p/".concat(e._id)},"      ",o.a.createElement("img",{className:"post",src:e.image,alt:e.title,key:e._id,title:e.likes.length+" likes \u2764\ufe0f "}),"       ")," ")})):o.a.createElement("div",null,o.a.createElement("h3",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",fontSize:"20px"}}," User don't have Any Post ")):"")," "):o.a.createElement("div",{id:"center",style:{marginTop:"10px"}},o.a.createElement(k.a,{heigth:"200",width:"200",color:"royalblue",ariaLabel:"loading",value:"uploading !"})," "))},A=a(53);var D=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),m=Object(c.a)(l,2),p=(m[0],m[1],Object(n.useContext)(Z)),d=p.state,h=p.dispatch,f=Object(i.g)().pId;Object(n.useEffect)((function(){fetch("https://instabackend22.herokuapp.com/p/".concat(f),{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){r(e.post)})).catch((function(e){console.log(e)}))}),[]);var g=function(e,t){fetch(t,{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e})}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.log(e)}))},k=function(e){fetch("https://instabackend22.herokuapp.com/save",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e,my:d._id})}).then((function(e){return e.json()}),console.log("crossed")).then((function(e){e.error?console.log(e.error):(localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},d),{},{savedPost:e}))),h({type:"UPDATESAVEDPOST",payload:e}))}))},v=function(e){fetch("https://instabackend22.herokuapp.com/unsave",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e,my:d._id})}).then((function(e){return e.json()}),console.log("crossed")).then((function(e){e.error?console.log(e.error):(localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},d),{},{savedPost:e}))),h({type:"UPDATESAVEDPOST",payload:e}))}))},S=function(e,t){navigator.share?navigator.share({title:t,url:"https://instaclone022.herokuapp.com/p/".concat(e)}).then((function(){console.log("Thanks for sharing!")})).catch((function(e){console.log("Error while using Web share API:"),console.log(e)})):navigator.clipboard.writeText("https://instaclone022.herokuapp.com/p/".concat(e))},w=function(e){fetch("https://instabackend22.herokuapp.com/delete/".concat(e),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){var t=a.filter((function(t){return t._id!=e.result._id}));r(t)})).catch((function(e){console.log(e)}))};return o.a.createElement("div",{className:"home-container"},a?a.author?a.author._id.includes(d._id)?o.a.createElement("div",{className:"card1 home-card",key:a._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:a.author?a.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:a.author._id!==d._id?"/profile/"+a.author._id:"/profile",style:{textDecoration:"none"}},a.author.fullName,"  ")),a.author._id==d._id&&o.a.createElement("i",{onClick:function(){return w(a._id)},className:"material-icons",style:{color:"darkred",float:"right",cursor:"pointer",width:"35px"}}," delete_forever ")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return a.likes.includes(d._id)?g(a._id,"https://instabackend22.herokuapp.com/unlike"):g(a._id,"https://instabackend22.herokuapp.com/like")},src:a.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},a.likes.includes(d._id)?o.a.createElement("i",{onClick:function(){return g(a._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,null)):o.a.createElement("i",{onClick:function(){return g(a._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:a._id?"/c/"+a._id:"",style:{textDecoration:"none",color:"royalblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){S(a._id,a.title)}})," "))),o.a.createElement("div",null,d.savedPost?d.savedPost.includes(a._id)?o.a.createElement("i",{onClick:function(){return v(a._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return k(a._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",a.title," "),o.a.createElement("p",{className:"post-body-text"}," ",a.body," "),o.a.createElement("h6",{style:{color:"gray",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""},"  ",o.a.createElement(j.a,{fromNow:!0},a.createdAt),"   "))):a.author.isPrivate?a.author.following.includes(d._id)?o.a.createElement("div",{className:"card1 home-card",key:a._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:a.author?a.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:a.author._id!==d._id?"/profile/"+a.author._id:"/profile",style:{textDecoration:"none"}},a.author.fullName,"  ")),a.author._id==d._id&&o.a.createElement("i",{onClick:function(){return w(a._id)},className:"material-icons",style:{color:"gray",float:"right",cursor:"pointer",width:"35px"}}," delete_forever ")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return a.likes.includes(d._id)?g(a._id,"https://instabackend22.herokuapp.com/unlike"):g(a._id,"https://instabackend22.herokuapp.com/like")},src:a.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},a.likes.includes(d._id)?o.a.createElement("i",{onClick:function(){return g(a._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,null)):o.a.createElement("i",{onClick:function(){return g(a._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:a._id?"/c/"+a._id:"",style:{textDecoration:"none",color:"darkblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){S(a._id,a.title)}})," "))),o.a.createElement("div",null,d.savedPost?d.savedPost.includes(a._id)?o.a.createElement("i",{onClick:function(){return v(a._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return k(a._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",a.title," "),o.a.createElement("p",{className:"post-body-text"}," ",a.body," "),o.a.createElement("h6",{style:{color:"gray",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""},"  ",o.a.createElement(j.a,{fromNow:!0},a.createdAt),"   "))):o.a.createElement("div",{style:{marginTop:"100px",padding:"1px"},className:"center"},o.a.createElement("h6",{style:{fontWeight:"900",fontSize:"25px"}},"The Post Account holder is private account, you must need to follow the user to see the post"),o.a.createElement(s.b,{to:"/profile/".concat(a.author._id)}," click here see the profile ")):o.a.createElement("div",{className:"card1 home-card",key:a._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:a.author?a.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:a.author._id!==d._id?"/profile/"+a.author._id:"/profile",style:{textDecoration:"none"}},a.author.fullName,"  ")),a.author._id==d._id&&o.a.createElement("i",{onClick:function(){return w(a._id)},className:"material-icons",style:{color:"gray",float:"right",cursor:"pointer",width:"35px"}}," delete_forever ")),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return a.likes.includes(d._id)?g(a._id,"https://instabackend22.herokuapp.com/unlike"):g(a._id,"https://instabackend22.herokuapp.com/like")},src:a.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},a.likes.includes(d._id)?o.a.createElement("i",{onClick:function(){return g(a._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,null)):o.a.createElement("i",{onClick:function(){return g(a._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:a._id?"/c/"+a._id:"",style:{textDecoration:"none",color:"darklblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){S(a._id,a.title)}})," "))),o.a.createElement("div",null,d.savedPost?d.savedPost.includes(a._id)?o.a.createElement("i",{onClick:function(){return v(a._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return k(a._id)},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",a.title," "),o.a.createElement("p",{className:"post-body-text"}," ",a.body," "),o.a.createElement("h6",{style:{color:"gray",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""},"  ",o.a.createElement(j.a,{fromNow:!0},a.createdAt),"   "))):o.a.createElement("div",{style:{margin:"100px",padding:"1px"},className:"center"}," ",o.a.createElement("h6",{style:{fontWeight:"900",fontSize:"25px"}}," Loading ",o.a.createElement(x.b,null),"   ")," "):o.a.createElement("div",{style:{margin:"100px",padding:"10px"},className:"center"}," ",o.a.createElement("h6",{style:{fontWeight:"900",fontSize:"25px"}}," Post you are looking that no longer available ",o.a.createElement(A.a,null)," ")," "))};var B=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(Z),i=l.state,m=l.dispatch,p=Object(n.useState)(""),d=Object(c.a)(p,2),h=(d[0],d[1],Object(n.useState)("")),f=Object(c.a)(h,2);f[0],f[1],Object(n.useEffect)((function(){a&&fetch("https://instabackend22.herokuapp.com/Postsfromfollowing",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){r(e.posts)})).catch((function(e){console.log(e)}))}),[]);var g=function(e,t){fetch(t,{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:e})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id==e._id?e:t}));r(t)})).catch((function(e){console.log(e)}))};return o.a.createElement("div",{className:"home-container"},i&&i.hasOwnProperty("following")?i.following.length>0?a.length>0&&0!=a.length?a.map((function(e){return o.a.createElement("div",{className:"card1 home-card",key:e._id},o.a.createElement("h5",{style:{padding:"1px",display:"inline",marginLeft:"1px"}},o.a.createElement("img",{className:"image-icon",style:{width:"25px",height:"25px",borderRadius:"35px",marginRight:"10px",marginTop:"2px"},src:e?e.author.profilePicUrl:"Loading"}),o.a.createElement("span",{className:"fullname1",style:{textDecoration:"none",fontSize:"20px",marginTop:"0px"}},o.a.createElement(s.b,{to:e.author._id!==i._id?"/profile/"+e.author._id:"/profile",style:{textDecoration:"none"}},e.author.fullName,"  ")," ",o.a.createElement(s.b,{to:e._id?"/p/"+e._id:"",style:{textDecoration:"none",marginBottom:"10px"}},o.a.createElement(x.a,null)," "))),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"post-image",style:{cursor:"pointer"},onDoubleClick:function(){return e.likes.includes(i._id)?g(e._id,"https://instabackend22.herokuapp.com/unlike"):g(e._id,"https://instabackend22.herokuapp.com/like")},src:e.image,alt:"alt"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"save"},o.a.createElement("div",{className:"slc"},o.a.createElement("div",{className:"likes"},e.likes.includes(i._id)?o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/unlike")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.a,null)):o.a.createElement("i",{onClick:function(){return g(e._id,"https://instabackend22.herokuapp.com/like")},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},o.a.createElement(y.c,null))),o.a.createElement("div",{className:"cmtbtn"},o.a.createElement("i",{style:{marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(s.b,{to:e._id?"/c/"+e._id:"",style:{textDecoration:"none",color:"royalblue",cursor:"pointer",fontSize:"25px"}},o.a.createElement(y.b,{style:{color:"darkblue"}})," "),"  ")),o.a.createElement("div",{className:"share"},o.a.createElement("i",{style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"15px",fontSize:"25px"}},"  ",o.a.createElement(E.c,{onClick:function(){var t,a;t=e._id,a=e.title,navigator.share?navigator.share({title:a,url:"https://instaclone022.herokuapp.com/p/".concat(t)}).then((function(){console.log("Thanks for sharing!")})).catch((function(e){console.log("Error while using Web share API:"),console.log(e)})):navigator.clipboard.writeText("https://instaclone022.herokuapp.com/p/".concat(t))}})," "))),o.a.createElement("div",null,i.savedPost?i.savedPost.includes(e._id)?o.a.createElement("i",{onClick:function(){return t=e._id,void fetch("https://instabackend22.herokuapp.com/unsave",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:t,my:i._id})}).then((function(e){return e.json()}),console.log("crossed")).then((function(e){e.error?console.log(e.error):(localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},i),{},{savedPost:e}))),m({type:"UPDATESAVEDPOST",payload:e}))}));var t},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}}," ",o.a.createElement(u.b,null)):o.a.createElement("i",{onClick:function(){return t=e._id,void fetch("https://instabackend22.herokuapp.com/save",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({postId:t,my:i._id})}).then((function(e){return e.json()}),console.log("crossed")).then((function(e){e.error?console.log(e.error):(localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},i),{},{savedPost:e}))),m({type:"UPDATESAVEDPOST",payload:e}))}));var t},style:{color:"darkblue",marginRight:"10px",cursor:"pointer",width:"13px",fontSize:"25px"}},o.a.createElement(u.a,null)):"")),o.a.createElement("h5",{style:{marginTop:"-5px"},className:"post-title"}," ",e.title," "),o.a.createElement("p",{className:"post-body-text"}," ",e.body," "),o.a.createElement("h6",{style:{color:"darkblue",cursor:"pointer",fontSize:"10px",float:"right",margin:"-10px"},className:""}," ",function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()+", "+t.toDateString()}(e.createdAt)," ")))})):o.a.createElement("div",null,o.a.createElement("h1",{style:{display:"flex",alignItems:"center",justifyContent:"center"}}," ",o.a.createElement(C.b,{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"red"}})," No Post Yet")):o.a.createElement("div",null,o.a.createElement("h1",{style:{display:"flex",alignItems:"center",justifyContent:"center"}}," ",o.a.createElement(y.e,{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"red"}})," No followings")):"Please Wait ")},U=a(35),J=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)([]),m=Object(c.a)(u,2),p=m[0],d=m[1],h=Object(n.useContext)(Z),g=h.state,b=(h.dispatch,Object(i.f)(),Object(n.useState)("/")),y=Object(c.a)(b,2),k=y[0],v=y[1],j=Object(n.useState)(""),S=Object(c.a)(j,2);S[0],S[1];Object(n.useEffect)((function(){f.a.Modal.init(e.current)}),[]);return o.a.createElement("nav",{className:"navbar-bottom"},o.a.createElement("div",{className:"white bottom"},o.a.createElement("ul",{id:"nav-mobile",className:"right"},function(){if(g)return[o.a.createElement("li",{key:"222"},o.a.createElement(s.b,{to:"/home",onClick:function(){return v("/home")}},"  ",k.includes("/home")?o.a.createElement(C.c,{style:{marginTop:"15px",fontSize:"30px",borderBottom:"3px solid black"}}):o.a.createElement(C.d,{style:{marginTop:"15px",fontSize:"30px"}})," ")),o.a.createElement("li",{key:"2292"},o.a.createElement(s.b,{to:"/search",onClick:function(){return v("/search")}},"  ",k.includes("/search")?o.a.createElement(U.b,{style:{marginTop:"15px",fontSize:"30px",borderBottom:"3px solid black"}}):o.a.createElement(x.d,{style:{marginTop:"15px",fontSize:"30px"}}),"      ")),o.a.createElement("li",{key:"11111"}," ",o.a.createElement(s.b,{to:"/create-post",onClick:function(){return v("/create-post")}}," ",k.includes("/create-post")?o.a.createElement(E.b,{style:{marginTop:"15px",fontSize:"30px",borderBottom:"3px solid black"}}):o.a.createElement(E.a,{style:{marginTop:"15px",fontSize:"30px"}}),"      ")," "),o.a.createElement("li",{key:"2212"},o.a.createElement(s.b,{to:"/Postsfromfollowing",onClick:function(){return v("/Postsfromfollowing")}},"   ",k.includes("/Postsfromfollowing")?o.a.createElement(C.e,{style:{marginTop:"15px",fontSize:"30px",borderBottom:"3px solid black"}}):o.a.createElement(C.f,{style:{marginTop:"15px",fontSize:"30px"}}),"   ")),o.a.createElement("li",{key:"2212122"},o.a.createElement(s.b,{to:"/Profile",onClick:function(){return v("/Profile")}},"    ",k.includes("/Profile")?o.a.createElement(C.g,{style:{marginTop:"15px",fontSize:"30px",borderBottom:"3px solid black"}}):o.a.createElement(C.h,{style:{marginTop:"15px",fontSize:"30px"}}),"   "))]}()),o.a.createElement("div",{id:"modal1",class:"modal",ref:e,style:{color:"black"}},o.a.createElement("div",{className:"modal-content"},o.a.createElement("input",{type:"text",placeholder:"search users",value:r,onChange:function(e){return t=e.target.value,l(t),void fetch("https://instabackend22.herokuapp.com/search-users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){d(e.user)}));var t}}),o.a.createElement("ul",{className:"collection"},p.map((function(t){return o.a.createElement(s.b,{to:t._id!==g._id?"/profile/"+t._id:"/profile",onClick:function(){f.a.Modal.getInstance(e.current).close(),l("")}},o.a.createElement("li",{className:"collection-item",style:{margin:"1%",alignItems:"flex-start",display:"flex"}},t.email))})))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{className:"modal-close waves-effect waves-green btn-flat",onClick:function(){return l("")}},"close")))))};var W=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],l=a[1];return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"card login-card input-field"},o.a.createElement("h2",null,"Instaclone"),o.a.createElement("input",{type:"text",placeholder:"Email",value:r,onChange:function(e){return l(e.target.value)}}),o.a.createElement("button",{onClick:function(){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(r)?(f.a.toast({html:"please wait :) ",classes:"#c62828 blue darken-3",id:"toast-container"}),fetch("https://instabackend22.herokuapp.com/resetpassword",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?f.a.toast({html:t.error,classes:"#62229 red darken-2"}):(f.a.toast({html:"email sent Successfull",classes:"#62229 green darken-2",id:"toast-container"}),e("/login"))}))):f.a.toast({html:"enter valid email",classes:"#62229 red darken-2"})},className:"btn waves-effect waves-loght btn-medium #64b5f6 blue darken-4",type:"submit"},"Reset Password"),o.a.createElement("h6",null,o.a.createElement(s.b,{to:"/Login"},"Do you know password ? Login"))))};var L=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],l=a[1],s=Object(i.g)().token;return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"card login-card input-field"},o.a.createElement("h2",null,"Instaclone"),o.a.createElement("input",{type:"password",placeholder:"Enter new Password \ud83e\udd2b!!",value:r,onChange:function(e){return l(e.target.value)}}),o.a.createElement("button",{onClick:function(){return f.a.toast({html:"please wait :) ",classes:"#c62828 blue darken-3",id:"toast-container"}),void fetch("https://instabackend22.herokuapp.com/new-password",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r,token:s})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?f.a.toast({html:t.error,classes:"#62229 red darken-2"}):(f.a.toast({html:t.message,classes:"#62229 green darken-2",id:"toast-container"}),e("/Login"))}))},className:"btn waves-effect waves-loght btn-large #64b5f6 blue darken-4",type:"submit"},"Update Password")))},q=a(54),F=a(28);a(79);var M=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(c.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(),d=Object(c.a)(p,2),h=(d[0],d[1]),f=Object(n.useContext)(Z),g=f.state,b=(f.dispatch,Object(n.useState)(!0)),E=Object(c.a)(b,2),y=(E[0],E[1],Object(n.useState)("hide")),x=Object(c.a)(y,2),v=x[0],j=x[1],S=Object(n.useState)(!1),w=Object(c.a)(S,2),N=w[0],O=w[1];return Object(n.useEffect)((function(){u.length>0?j("show"):j("hide")}),[u]),o.a.createElement("div",{className:"search"},o.a.createElement("div",{className:"search-box"},o.a.createElement("input",{type:"text",placeholder:"Username ....",value:u,onChange:function(e){return m(e.target.value)}}),o.a.createElement("i",{style:{textDecoration:"none",cursor:"pointer"},className:"".concat(v),key:"2292"},o.a.createElement(q.a,{onClick:function(){return e=u,O(!0),m(e),void fetch("https://instabackend22.herokuapp.com/search-users",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){O(!1),r(e.user)}));var e},style:{marginTop:"15px",fontSize:"35px",textDecoration:"none"}})),o.a.createElement("i",{style:{textDecoration:"none",cursor:"pointer"},key:"292"},o.a.createElement(F.a,{onClick:function(){return m(""),r(""),void h("")},style:{marginTop:"15px",fontSize:"35px",textDecoration:"none"}}))),o.a.createElement("div",{className:"main details"},a?a.length>0?a.map((function(e){return o.a.createElement("div",{id:e._id,className:"card display",onClick:function(){return console.log("hellox")}},o.a.createElement("h6",{style:{fontSize:"20px"}},o.a.createElement("span",{className:"user1",style:{fontSize:"20px"}}," ",e.username," ")),o.a.createElement("img",{className:"profile-pic blur",src:e.profilePicUrl}),o.a.createElement("div",{class:"profile-stats"},o.a.createElement("ul",{style:{display:"flex",justifyContent:"space-between",alignContent:"space-between"}},o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"100",fontSize:"15px"}},o.a.createElement("span",null,a?e.followers.length:"Loading"),"  ",o.a.createElement("span",{style:{fontWeight:"lighter",fontSize:"10px"}}," followers ")),o.a.createElement("li",{style:{marginRight:"5px",fontWeight:"100",fontSize:"15px"}}," ",o.a.createElement("span",null,a?e.following.length:"loading")," ",o.a.createElement("span",{style:{fontWeight:"lighter",fontSize:"10px"}},"following ")))),o.a.createElement(s.b,{to:e._id!==g._id?"/profile/"+e._id:"/profile",style:{textDecoration:"none"},className:"btn viewmore1"}," ",o.a.createElement("span",{className:"blur",style:{color:"wheat"}},"View ")," "))})):o.a.createElement("h4",{style:{display:"flex",alignContent:"center",justifyItems:"center",justifyContent:"center",alignItems:"center",margin:"100px auto"}}," It's so empty here !!  "):""),o.a.createElement("div",{id:"center"},N?o.a.createElement(k.b,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}):""))};a(80),a(55);var V=function(){var e=Object(n.useContext)(Z),t=e.state,a=e.dispatch,r=Object(n.useState)(!1),l=Object(c.a)(r,2),s=l[0],u=l[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),d=p[0],h=p[1],g=Object(n.useState)(Boolean),E=Object(c.a)(g,2),v=(E[0],E[1]),j=Object(n.useState)([]),S=Object(c.a)(j,2),w=(S[0],S[1],Object(i.f)()),N=function(){localStorage.clear(),a({type:"LOGOUT"}),w("/login")};Object(n.useEffect)((function(){if(d){var e=new FormData;e.append("file",d),e.append("upload_preset","instaclone-app"),e.append("cloud_name","instaclone2022"),fetch("https://api.cloudinary.com/v1_1/instaclone2022/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){fetch("https://instabackend22.herokuapp.com/updatepic",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({url:e.url})}).then((function(e){return e.json()})).then((function(e){console.log("result--\x3e"+e),u(!1),localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},t),{},{profilePicUrl:e.profilePicUrl}))),a({type:"UPDATEPIC",payload:e.profilePicUrl})}))})).catch((function(e){console.log(e)}))}}),[d]);var O=function(e){fetch("https://instabackend22.herokuapp.com/setaccount",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({_id:t._id,private:e})}).then((function(e){return e.json()})).then((function(e){e.error?f.a.toast({html:e.error,classes:"#62229 red darken-2"}):(v(e),e?(a({type:"UPDATETRUE"}),console.log("data    "+e),localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},t),{},{isPrivate:e})))):(a({type:"UPDATEFALSE"}),console.log("data    "+e),localStorage.setItem("userinfo",JSON.stringify(Object(b.a)(Object(b.a)({},t),{},{isPrivate:e})))),f.a.toast({html:"Update Successfull",classes:"#62229 green darken-2",id:"toast-container"}))}))};return o.a.createElement("div",{className:"setting"},o.a.createElement("div",{className:"style"},o.a.createElement("div",{className:"card style1"},o.a.createElement("h6",{style:{marginTop:"auto"}}," ",o.a.createElement(y.f,{style:{marginRight:"1px"}})," User Name: ",o.a.createElement("span",{style:{fontWeight:500,marginLeft:"5px",color:"ButtonText"},className:"uname"}," ",t?t.username:"loading"," ")," "),o.a.createElement("h6",{style:{marginTop:"auto"}}," ",o.a.createElement(F.b,{style:{marginRight:"3px"}}),"  email: ",o.a.createElement("span",{style:{fontWeight:300,marginLeft:"5px",fontSize:"12px"}}," ",t?t.email:"loading"," ")," "))),o.a.createElement("div",{className:"style"},o.a.createElement("div",{className:"card style1"},o.a.createElement("span",{style:{marginLeft:"7px",fontWeight:"600"}}," Update Profile pic ")," ",o.a.createElement("span",null,o.a.createElement("li",{style:{margin:"1px",display:"flex",flexWrap:"wrap",width:"100px",borderRadius:"10px"},class:"btn1 profile-edit-btn btn waves-effect waves-light #0d47a1 blue darken-4"}," ",o.a.createElement("span",{style:{color:"white",fontSize:"14px",marginLeft:"-14px"}},"  upload "),o.a.createElement("input",{type:"file",onChange:function(e){return t=e.target.files[0],u(!0),void h(t);var t},accept:"image/png, image/gif, image/jpeg"}))))),s?o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",justifyItems:"center"}}," ",o.a.createElement("span",null," ",o.a.createElement(k.b,{color:"black",height:50,width:50}),o.a.createElement("h5",null,"Uploading..."))," "):"",o.a.createElement("div",{className:"style"},o.a.createElement("div",{className:"card style1"},o.a.createElement("span",{style:{marginLeft:"7px",fontWeight:"600"}},"  Account Type   "),t?t.isPrivate?o.a.createElement("li",{style:{margin:"10px",borderRadius:"10px"},onClick:function(){O(!1)},className:"btn waves-effect waves-light #0d47a1 red darken-4"},"Private ",o.a.createElement(x.c,null)):o.a.createElement("li",{style:{margin:"10px",borderRadius:"10px"},onClick:function(){O(!0)},className:"btn waves-effect waves-light #0d47a1 green darken-4"},"Public ",o.a.createElement(x.e,null)," "):"Loading")),o.a.createElement("div",{className:"style"},o.a.createElement("div",{className:"card style1"},o.a.createElement("h6",{style:{marginTop:"auto",cursor:"pointer",fontWeight:"600"},onClick:function(){w("/Updatepass")}}," ",o.a.createElement(U.a,{style:{marginRight:"3px"}})," Reset Your Password"),o.a.createElement("h6",{style:{marginTop:"auto",cursor:"pointer",fontWeight:"600"},onClick:function(){return N()}}," ",o.a.createElement(F.c,{style:{marginRight:"3px"}}),"  Logout"))),o.a.createElement("footer",{class:"copyright",style:{display:"flex",flexWrap:"wrap",alignContent:"center",justifyContent:"center",justifyItems:"center",letterSpacing:"1px"}},o.a.createElement("p",null," \xa9  Made with  ",o.a.createElement("img",{src:"https://emojipedia-us.s3.amazonaws.com/source/microsoft-teams/337/black-heart_1f5a4.png",width:"25px",height:"25px"})," and ",o.a.createElement("img",{src:"https://emojipedia-us.s3.amazonaws.com/source/microsoft-teams/337/hot-beverage_2615.png",width:"25px",height:"25px"})," by Ishaque")))};a(83);var $=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(c.a)(l,2),s=(i[0],i[1],Object(n.useContext)(Z).state),u=Object(n.useState)(),m=Object(c.a)(u,2);m[0],m[1],Object(n.useEffect)((function(){s&&fetch("https://instabackend22.herokuapp.com/getallrequest",{method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){r(e.posts[0].Requested)})).catch((function(e){console.log(e)}))}),[]);var p=function(e,t){fetch("https://instabackend22.herokuapp.com/unrequest",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({request:s._id,my:e,Uname:t})}).then((function(e){return e.json()})).then((function(){})).catch((function(e){console.log(e)}))},d=function(e){fetch("https://instabackend22.herokuapp.com/unrequestid",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({request:s._id,my:e})}).then((function(e){return e.json()})).then((function(){})).catch((function(e){console.log(e)}))},h=function(e,t){var a;p(e,t),d(e),a=e,fetch("https://instabackend22.herokuapp.com/approve",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({my:s._id,approveid:a})}).then((function(e){return e.json()})).then((function(){window.location.reload(!1)})).catch((function(e){console.log(e)}))};return o.a.createElement("div",{className:"notifications"},a?a.length<=0?o.a.createElement("h5",{style:{display:"flex",fontWeight:"800"}}," Currently You Dont have Any Notifications here  !! "):a.map((function(e){return o.a.createElement("div",{className:"notification",key:e._id},o.a.createElement("h6",null,"  user  ",o.a.createElement("span",{style:{color:"red"}}," ",e.username," ")," has Requested to follow you  "),o.a.createElement("button",{className:"btn-small",style:{color:"black",borderRadius:"10px"},onClick:function(){h(e.id,e.username)}}," Accept "),o.a.createElement("button",{className:"btn-small",style:{color:"black",borderRadius:"10px"},onClick:function(){var t,a;t=e.id,a=e.username,p(t,a),d(t)}}," Denied "))})):"")};a(84);var G=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(c.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(c.a)(p,2),h=d[0],g=d[1],b=Object(i.f)();return o.a.createElement("div",{className:"style"},o.a.createElement("div",{className:"password updatepassword"},o.a.createElement("h5",{className:"center"}," Update password !!"),o.a.createElement("input",{type:"password",placeholder:"Old Password",onChange:function(e){return r(e.target.value)}}),o.a.createElement("input",{type:"password",placeholder:"New Password",onChange:function(e){return m(e.target.value)}}),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center"}},o.a.createElement("button",{style:{margin:"10px",color:"white"},onClick:function(){return g(!0),void fetch("https://instabackend22.herokuapp.com/updatepass",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({email:JSON.parse(localStorage.getItem("userinfo")).email,oldpass:a,newpass:u})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?(g(!1),f.a.toast({html:e.error,classes:"#62229 red darken-2"})):(g(!1),f.a.toast({html:"Password Updated Successfully",classes:"#62229 green darken-2",id:"toast-container"}),b("/Profile"))})).catch((function(e){console.log(e)}))},className:"btn waves-effect waves-loght btn-medium red darken-4 ".concat(h?"disabled":""," "),type:"submit"},"Update"),"     ")),o.a.createElement("div",{id:"center"},h?o.a.createElement(k.a,{heigth:"100",width:"100",color:"Black",ariaLabel:"loading",value:"uploading !"}):""))},Y=a(56);var H=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(i.g)().postId,s=Object(n.useContext)(Z).state;return Object(n.useEffect)((function(){fetch("https://instabackend22.herokuapp.com/c/".concat(l),{method:"get",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){r(e[0]),console.log(e)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",{style:{marginTop:"50px"},className:"center"},a&&a.comments?o.a.createElement("h3",{style:{fontWeight:"500"}}," All Comments "):"",o.a.createElement("div",{id:"columnBox"},a?a.comments?a.comments.length>0?a.comments.map((function(e){return o.a.createElement("div",{className:"comment center card2"},e.CommentedBy._id===s._id?o.a.createElement(Y.a,{onClick:function(){return t=e._id,void fetch("https://instabackend22.herokuapp.com/cdelete",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({commentId:t,postId:l})}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.log(e)}));var t},style:{cursor:"pointer",fontSize:"20px",float:"right"}}):"",o.a.createElement("h6",{key:e._id},o.a.createElement("span",{style:{fontWeight:"bold"}}," ",e.CommentedBy.fullName," "),o.a.createElement("div",{className:"pp12"}," ",e.CommentText," ")),o.a.createElement("p",{style:{fontSize:"12px",display:"flex",alignContent:"flex-start"}},o.a.createElement(_.a,{style:{paddingLeft:"1px",marginTop:"3px"}})," ",o.a.createElement("span",{style:{fontWeight:"900",marginLeft:"10px",color:"gray"}}," ",o.a.createElement(j.a,{fromNow:!0},e.time)),"  "))})):o.a.createElement("span",null," ",o.a.createElement("h6",{style:{fontWeight:"900",fontSize:"25px",color:"royalblue"}}," So for no comments , be a fitst ",o.a.createElement(y.d,null)," ")," "):"Loading please wait":""),o.a.createElement("div",{className:"cmtip"},o.a.createElement("form",{onSubmit:function(e){!function(e,t){e.preventDefault();var a=document.getElementById("cmt"),n=e.target[0].value;a.value="",fetch("https://instabackend22.herokuapp.com/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({commentText:n,postId:t})}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.log(e)}))}(e,a._id)},className:""},o.a.createElement("input",{type:"text",placeholder:"Write Your thoughts here ....",maxLength:50,id:"cmt",style:{width:"300px",position:"sticky"}}))))},Z=Object(n.createContext)(),Q=function(){var e=Object(i.f)(),t=Object(i.e)(),a=Object(n.useContext)(Z),r=(a.state,a.dispatch);return Object(n.useEffect)((function(){var a=JSON.parse(localStorage.getItem("userinfo"));a?t.pathname.startsWith("/p/")&&t.pathname.startsWith("/profile/")?(r({type:"USER",payload:a}),e("/home")):r({type:"USER",payload:a}):t.pathname.startsWith("/reset")||e("/login")}),[]),o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/home",exact:!0,strict:!0,element:o.a.createElement(S,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/login",element:o.a.createElement(N,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/signup",element:o.a.createElement(O,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/profile",element:o.a.createElement(z,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/profile/:userId",element:o.a.createElement(R,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/p/:pId",element:o.a.createElement(D,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/c/:postId",element:o.a.createElement(H,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/Postsfromfollowing",element:o.a.createElement(B,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/create-post",element:o.a.createElement(T,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/reset-password",element:o.a.createElement(W,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/reset/:token",element:o.a.createElement(L,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/setting",element:o.a.createElement(V,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/Search",element:o.a.createElement(M,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/Notifications",element:o.a.createElement($,null)}),o.a.createElement(i.a,{exact:!0,strict:!0,path:"/Updatepass",element:o.a.createElement(G,null)}))};var K=function(){var e=Object(n.useReducer)(P,null),t=Object(c.a)(e,2),a=t[0],r=t[1];return o.a.createElement(Z.Provider,{value:{state:a,dispatch:r}},o.a.createElement(s.a,null,o.a.createElement(g,null),o.a.createElement(Q,null),a?o.a.createElement(J,null):""))},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),o(e),r(e),l(e)}))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(K,null)),document.getElementById("root")),X()}},[[62,1,2]]]);
//# sourceMappingURL=main.377fec29.chunk.js.map